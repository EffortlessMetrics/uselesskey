[package]
name = "uselesskey-rustls"
version = "0.2.1"
edition.workspace = true
license.workspace = true
rust-version.workspace = true
repository.workspace = true
description = "rustls-pki-types and rustls config adapters for uselesskey X.509/key fixtures."
categories = ["development-tools::testing"]
keywords = ["rustls", "tls", "fixtures", "testing", "adapter"]
readme = "README.md"
homepage = "https://github.com/EffortlessMetrics/uselesskey"
documentation = "https://docs.rs/uselesskey-rustls"
authors.workspace = true

[dependencies]
rustls-pki-types = "1"
rustls = { version = "0.23", default-features = false, features = ["std", "tls12"], optional = true }

# Key type crates (all optional)
uselesskey-x509 = { path = "../uselesskey-x509", version = "0.2.1", optional = true }
uselesskey-rsa = { path = "../uselesskey-rsa", version = "0.2.1", optional = true }
uselesskey-ecdsa = { path = "../uselesskey-ecdsa", version = "0.2.1", optional = true }
uselesskey-ed25519 = { path = "../uselesskey-ed25519", version = "0.2.1", optional = true }

[package.metadata.docs.rs]
features = ["all", "tls-config", "rustls-ring"]

[features]
default = ["x509"]
x509 = ["dep:uselesskey-x509"]
rsa = ["dep:uselesskey-rsa"]
ecdsa = ["dep:uselesskey-ecdsa"]
ed25519 = ["dep:uselesskey-ed25519"]
all = ["x509", "rsa", "ecdsa", "ed25519"]
server-config = ["dep:rustls", "x509"]
client-config = ["dep:rustls", "x509"]
tls-config = ["server-config", "client-config"]
rustls-ring = ["rustls?/ring"]
rustls-aws-lc-rs = ["rustls?/aws_lc_rs"]

[dev-dependencies]
uselesskey-core = { path = "../uselesskey-core", version = "0.2.1" }
uselesskey-x509 = { path = "../uselesskey-x509", version = "0.2.1" }
rustls = { version = "0.23", features = ["ring"] }


