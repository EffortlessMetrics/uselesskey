[package]
name = "uselesskey"
version = "0.2.0"
edition.workspace = true
license.workspace = true
rust-version.workspace = true
repository.workspace = true
description = "Runtime-generated key fixtures for tests (no committed PEM blobs)."
categories = ["development-tools::testing"]
keywords = ["test", "fixtures", "pem", "pkcs8", "jwks"]
readme = "../../README.md"
documentation = "https://docs.rs/uselesskey"
authors.workspace = true

[package.metadata.docs.rs]
features = ["full"]

[dependencies]
uselesskey-core = { path = "../uselesskey-core", version = "0.2.0" }

# Key type crates - all optional
uselesskey-jwk = { path = "../uselesskey-jwk", version = "0.2.0", optional = true }
uselesskey-rsa = { path = "../uselesskey-rsa", version = "0.2.0", optional = true }
uselesskey-ecdsa = { path = "../uselesskey-ecdsa", version = "0.2.0", optional = true }
uselesskey-ed25519 = { path = "../uselesskey-ed25519", version = "0.2.0", optional = true }
uselesskey-hmac = { path = "../uselesskey-hmac", version = "0.2.0", optional = true }
uselesskey-x509 = { path = "../uselesskey-x509", version = "0.2.0", optional = true }

[features]
default = ["rsa"]

# Key types (additive)
rsa = ["dep:uselesskey-rsa"]
ecdsa = ["dep:uselesskey-ecdsa"]
ed25519 = ["dep:uselesskey-ed25519"]
hmac = ["dep:uselesskey-hmac"]

# X.509 certificates (implies rsa for now)
x509 = ["dep:uselesskey-x509", "rsa", "uselesskey-x509/jwk"]

# Output formats (pass-through to enabled key crates)
jwk = [
    "dep:uselesskey-jwk",
    "uselesskey-rsa?/jwk",
    "uselesskey-ecdsa?/jwk",
    "uselesskey-ed25519?/jwk",
    "uselesskey-hmac?/jwk",
]

# Convenience bundles
all-keys = ["rsa", "ecdsa", "ed25519", "hmac"]
full = ["all-keys", "x509", "jwk"]

[dev-dependencies]
tempfile.workspace = true
